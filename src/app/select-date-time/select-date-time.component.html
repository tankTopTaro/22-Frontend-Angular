<div class="container appointment-container shadow-lg">
    <div class="back container pt-5 px-4 text-start" (click)="goBack()">
        <div class="d-flex gap-2">
            <i class="bi bi-arrow-left"></i> <span class="fw-bold">Back</span>
        </div>
    </div>
    <div class="container py-5 px-4">
        <div class="container d-flex flex-column align-items-start">
            <span class="small">{{ service }}</span>
            <h1>{{ selectedService }}</h1>
        </div>
        <div class="d-flex flex-column">
            <div class="container d-flex mt-4 justify-content-between">
                <span class="small">SELECT DATE</span>
                <span class="action">Open Calendar</span>
            </div>
            <div class="container mt-3">
                <div class="container-fluid">
                    <div class="slider-wrap">
                        <div class="d-flex gap-2 slider-main">
                            <div 
                                class="container d-flex flex-column item date-box" 
                                *ngFor="let date of dates"
                                [ngClass]="{'weekend' : isWeekend(date)}"
                            >
                                <span>{{ date.month }}</span>
                                <span class="big">{{ date.date }}</span>
                                <span>{{ isCurrentDay(date) ? 'Today' : isNextDay(date) ? 'Tomorrow' : date.day }}</span>
                            </div>
                        </div>
                        <div class="next-date shadow-lg">
                            <span class="next" appNextDate><i class="bi bi-chevron-right"></i></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container mt-5">
                <div class="container">
                    <span class="small">SELECT TIMESLOT</span>
                </div>
                <div class="container mt-3 d-flex flex-column gap-5">
                    <div class="loading" *ngIf="isLoading">
                        <img src="https://res.cloudinary.com/delgya5vj/image/upload/v1688276609/practical-exam/Angular/Timeslots_kdmzrz.png" alt="Timeslots">
                    </div>
                    <div *ngIf="!isLoading">
                        <div>
                            <div class="d-flex gap-2">
                                <i class="bi bi-cloud-sun"></i><span class="fw-bold">Morning</span>
                            </div>
                            <div class="d-flex flex-wrap gap-3 text-center mt-3">
                                <div class="timeslots" *ngFor="let time of morningTimeslots">
                                    <p>{{ formatTime(time.hmsFormat.hours) }}:{{ time.hmsFormat.minutes | number: '2.0-0' }} {{ getAMPM(time.hmsFormat.hours) }}</p>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="d-flex gap-2 mt-4">
                                <i class="bi bi-sun"></i><span class="fw-bold">Afternoon</span>
                            </div>
                            <div class="d-flex flex-wrap gap-3 text-center mt-3">
                                <div class="timeslots" *ngFor="let time of sortTimeslots(afternoonTimeslots)">
                                    <p>{{ formatTime(time.hmsFormat.hours) }}:{{ time.hmsFormat.minutes | number: '2.0-0' }} {{ getAMPM(time.hmsFormat.hours) }}</p>
                                </div>
                            </div>
                        </div>
                        <div>
                            <div class="d-flex gap-2 mt-4">
                                <i class="bi bi-cloud-moon"></i><span class="fw-bold">Evening</span>
                            </div>
                            <div class="d-flex flex-wrap gap-3 text-center mt-3">
                                <div class="timeslots" *ngFor="let time of eveningTimeslots">
                                    <p>{{ formatTime(time.hmsFormat.hours) }}:{{ time.hmsFormat.minutes | number: '2.0-0' }} {{ getAMPM(time.hmsFormat.hours) }}</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container mt-5">
                <button class="button" [disabled]="disableButton">Select date and time to proceed</button>
            </div>
        </div>
    </div>
</div>


